{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from 'react-query';\nimport { defaultTodoService } from '../modules/todo/services/todo.service';\nimport { QUERY_KEYS } from '../modules/common/consts/app-keys.const';\nexport const useTodos = todoId => {\n  _s();\n  const fetchAllTodos = async () => {\n    const {\n      data\n    } = await defaultTodoService.getAllTodos();\n    return data.data.todos;\n  };\n  if (todoId) {\n    const fetchTodo = async () => {\n      const {\n        data\n      } = await defaultTodoService.getById(todoId);\n      return data.data.todo;\n    };\n    return useQuery(QUERY_KEYS.TODOID, fetchTodo);\n  }\n  return useQuery(QUERY_KEYS.TODOS, fetchAllTodos);\n};\n_s(useTodos, \"mn4J3+ExfyLz+EHcTadVPXTeWq4=\", false, function () {\n  return [useQuery, useQuery];\n});","map":{"version":3,"names":["useQuery","defaultTodoService","QUERY_KEYS","useTodos","todoId","_s","fetchAllTodos","data","getAllTodos","todos","fetchTodo","getById","todo","TODOID","TODOS"],"sources":["/home/stas/Bootcamp/cgs-team-camp/packages/frontend/src/utils/useTodos.ts"],"sourcesContent":["import { useQuery } from 'react-query';\nimport { defaultTodoService } from '../modules/todo/services/todo.service';\nimport { QUERY_KEYS } from '../modules/common/consts/app-keys.const';\nimport { ITodo } from '../modules/todo/types/todo.types';\n\nexport const useTodos = (todoId?: string) => {\n  const fetchAllTodos = async () => {\n    const { data } = await defaultTodoService.getAllTodos();\n\n    return data.data.todos;\n  };\n\n  if (todoId) {\n    const fetchTodo = async () => {\n      const { data } = await defaultTodoService.getById(todoId);\n\n      return data.data.todo;\n    };\n\n    return useQuery<ITodo | null>(QUERY_KEYS.TODOID, fetchTodo);\n  }\n\n  return useQuery<ITodo[]>(QUERY_KEYS.TODOS, fetchAllTodos);\n};\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,aAAa;AACtC,SAASC,kBAAkB,QAAQ,uCAAuC;AAC1E,SAASC,UAAU,QAAQ,yCAAyC;AAGpE,OAAO,MAAMC,QAAQ,GAAIC,MAAe,IAAK;EAAAC,EAAA;EAC3C,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMN,kBAAkB,CAACO,WAAW,EAAE;IAEvD,OAAOD,IAAI,CAACA,IAAI,CAACE,KAAK;EACxB,CAAC;EAED,IAAIL,MAAM,EAAE;IACV,MAAMM,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,MAAM;QAAEH;MAAK,CAAC,GAAG,MAAMN,kBAAkB,CAACU,OAAO,CAACP,MAAM,CAAC;MAEzD,OAAOG,IAAI,CAACA,IAAI,CAACK,IAAI;IACvB,CAAC;IAED,OAAOZ,QAAQ,CAAeE,UAAU,CAACW,MAAM,EAAEH,SAAS,CAAC;EAC7D;EAEA,OAAOV,QAAQ,CAAUE,UAAU,CAACY,KAAK,EAAER,aAAa,CAAC;AAC3D,CAAC;AAACD,EAAA,CAlBWF,QAAQ;EAAA,QAcVH,QAAQ,EAGVA,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}