{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMutation, useQueryClient } from 'react-query';\nimport { defaultTodoService } from '../modules/todo/services/todo.service';\nimport { QUERY_KEYS } from '../modules/common/consts/app-keys.const';\nexport const useUpdateTodo = () => {\n  _s();\n  const queryClient = useQueryClient();\n  const updateTodo = async (todoId, data) => {\n    await defaultTodoService.updateTodo(todoId, data);\n    return todoId;\n  };\n  const onSuccess = todoId => {\n    queryClient.invalidateQueries([QUERY_KEYS.TODOS, [QUERY_KEYS.TODOID, todoId]]);\n  };\n  const mutation = useMutation(mutationData => updateTodo(mutationData.todoId, mutationData.data), {\n    onSuccess\n  });\n  return {\n    updateTodoMutation: mutation\n  };\n};\n_s(useUpdateTodo, \"mUUakYvFQSudGRmMzZErOI9nuuc=\", false, function () {\n  return [useQueryClient, useMutation];\n});","map":{"version":3,"names":["useMutation","useQueryClient","defaultTodoService","QUERY_KEYS","useUpdateTodo","_s","queryClient","updateTodo","todoId","data","onSuccess","invalidateQueries","TODOS","TODOID","mutation","mutationData","updateTodoMutation"],"sources":["/home/stas/Bootcamp/cgs-team-camp/packages/frontend/src/utils/useUpdateTodo.ts"],"sourcesContent":["import { useMutation, useQueryClient } from 'react-query';\nimport { defaultTodoService } from '../modules/todo/services/todo.service';\nimport { ITodo } from '../modules/todo/types/todo.types';\nimport { QUERY_KEYS } from '../modules/common/consts/app-keys.const';\n\nexport const useUpdateTodo = () => {\n  const queryClient = useQueryClient();\n  const updateTodo = async (todoId: string, data: ITodo): Promise<string> => {\n    await defaultTodoService.updateTodo(todoId, data);\n\n    return todoId;\n  };\n\n  const onSuccess = (todoId: string) => {\n    queryClient.invalidateQueries([QUERY_KEYS.TODOS, [QUERY_KEYS.TODOID, todoId]]);\n  };\n\n  const mutation = useMutation<string, unknown, { todoId: string; data: ITodo }>(\n    (mutationData) => updateTodo(mutationData.todoId, mutationData.data),\n    {\n      onSuccess\n    }\n  );\n\n  return { updateTodoMutation: mutation };\n};\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,cAAc,QAAQ,aAAa;AACzD,SAASC,kBAAkB,QAAQ,uCAAuC;AAE1E,SAASC,UAAU,QAAQ,yCAAyC;AAEpE,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC,MAAMC,WAAW,GAAGL,cAAc,EAAE;EACpC,MAAMM,UAAU,GAAG,MAAAA,CAAOC,MAAc,EAAEC,IAAW,KAAsB;IACzE,MAAMP,kBAAkB,CAACK,UAAU,CAACC,MAAM,EAAEC,IAAI,CAAC;IAEjD,OAAOD,MAAM;EACf,CAAC;EAED,MAAME,SAAS,GAAIF,MAAc,IAAK;IACpCF,WAAW,CAACK,iBAAiB,CAAC,CAACR,UAAU,CAACS,KAAK,EAAE,CAACT,UAAU,CAACU,MAAM,EAAEL,MAAM,CAAC,CAAC,CAAC;EAChF,CAAC;EAED,MAAMM,QAAQ,GAAGd,WAAW,CACzBe,YAAY,IAAKR,UAAU,CAACQ,YAAY,CAACP,MAAM,EAAEO,YAAY,CAACN,IAAI,CAAC,EACpE;IACEC;EACF,CAAC,CACF;EAED,OAAO;IAAEM,kBAAkB,EAAEF;EAAS,CAAC;AACzC,CAAC;AAACT,EAAA,CApBWD,aAAa;EAAA,QACJH,cAAc,EAWjBD,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}